%! TEX root=../algebra.tex
\graphicspath{{Images/}}

\chapter{Faktorisierungen von Ringen}
\emph{Buch Seiten 83-114}.
Wir wollen in diesem Kapitel Ringe mit eindeutiger Primfaktorzerlegung betrachten.
Im Folgenden ist $R$ immer ein Integritätsbereich.

\begin{definition}[Wiederholung]
	$a \mid b \Leftrightarrow \exists  c $ mit $b=ac$ für $a,b \in R$.\\
	$a \in R^{\times}$ ist eine Einheit $\Leftrightarrow a \mid 1$.
\end{definition}

\begin{definition}
	Wir sagen $p \in R \setminus \{0\}$ ist \emph{irreduzibel}, falls $p \not\in R^{\times}$ und für alle $a,b \in R$ gilt
	$p = ab \implies a \in R^{\times}$ oder $b \in R^{\times}$.
\end{definition}

\begin{definition}
	Wir sagen $p \in R \setminus \{0\}$ ist \emph{prim} falls $(p)$ ein Primideal ist, in anderen Worten
	falls $p \not\in R^{\times}$ und für alle $a,b \in R$ gilt $p \mid ab \implies p \mid a$ oder $p \mid b$.
\end{definition}

\begin{lemma}
	Sei $R$ ein Integritätsbereich. Dann ist jedes prim $p \in R$ auch irreduzibel.
\end{lemma}

\begin{proof}
	Angenommen $p \in R \setminus \{0\} $ ist prim und angenommen $p =ab$ (wie in der Definition von irreduzibel).
	Daraus folgt $p \mid ab \implies p \mid a $ oder $p \mid b$.\\
	Angenommen $p \mid a$, dann ist $a = p \cdot c$ für ein $c \in R$.
	Folgt $p = p \cdot c \cdot b \implies 1 = c \cdot b$ weil $R$ ein Integritätsbereich ist, also $b,c \in R^{\times}$.
	Des Weiteren ist auch $p \not\in  R^{\times}$. Also ist $p$ irreduzibel.
\end{proof}

\begin{remark}
	Die Umkehrung des Lemmas stimmt im Allgemeinen nicht.
	Wenn sie doch stimmt, so hilft dies für die Eindeutigkeit in einer Primfaktorzerlegung.
	Siehe später in 3.3.
\end{remark}

\section{Euklidische Ringe}
\begin{definition}
	Ein Integritätsbereich $R$ heißt ein \emph{Euklidischer Ring} falls es eine gradfunktion $N: R \setminus \{0\}  \to \N$ gibt,
	so fass die beiden folgenden Eigenschaften gelten:
	\begin{itemize}
		\item \emph{Gradungleichung}: $N(f) \leq N(fg)$ für alle $f,g \in \R \setminus \{0\} $.
		\item \emph{Division mit Rest}: Für $f,g \in R$ mit $f \neq  0$ gibt es $q,r \in R$ mit $g = q\cdot f + r$ wobei $r = 0$ oder $N(r) < N(f)$ ist.
			Wir nennen $r$ den \emph{Rest} (bei Division durch $f $).
	\end{itemize}
\end{definition}

\begin{eg}
	\begin{enumerate}[1)]
		\setcounter{enumi}{-1}
		\item z.B. erfüllt jeder Körper $K$ mit $N(f) = 0$ für alle $f \in K$ diese Axiome
			(uninteressant, da es hier nur Einheiten und keine irreduziblen oder primen Elemente gibt).
		\item Der $R = \Z$ und $N(n) = \abs{n}$ für $n \in \Z$ (erfüllt alle Eigenschaften auf Grund bekannter Eigenschaften von $\Z$ ).
		\item Sei  $K$ ein Körper, $R=K[x]$ und $N(f) = \deg(f)$ für $f \in R \setminus \{0\} $.
		\item Sei $R = \Z[i]$ der Ring der \emph{Gausschen ganzen Zahlen} und $N(a+ib) = \abs{a+ib}^2$
		\item Sei $R = \Z[\sqrt{2}]$ und $N(a + \sqrt{2} b) = \abs{a^2 - 2 b^2}$ für $a + \sqrt{2} b \in R$ (algebraische Zahlentheorie betrachtet solche Beispiele).
	\end{enumerate}
\end{eg}

\begin{proof}[Beweis von Beispiel $2$]\leavevmode
	\begin{itemize}
		\item Gradungleichung: Seien $f,g \in K[X] \setminus \{0\} $. Dann gilt
			\[
				N(fg) = \deg(fg) = \deg(f) + \underbrace{\deg(g)}_{\geq 0} \geq \deg(f) = N(f)
			.\]
		\item Division mit Rest:
			Sei $f \neq 0, g \in R = K[X]$. Dann gibt es $q,r \in K[ X ] $ mit $g =fq + r$ und $\deg(r) < \deg(f)$.
			\begin{proof}
				Falls $\deg(g) < \deg(f)$, dann setzen wir $q=0$ $r=g$.
				Wir verwenden Induktion nach $\deg(g)$. Obiger Fall ist unser Induktionsanfang.\\
				Sei $m \in \N$ und angenommen wir haben Division mit Rest bereits für alle Polynome mit Grad  $< m$ bewiesen.
				Sei $g \in K[X]$ mit Grad $\deg(g) = m$.
				Aufgrund des Induktionsanfangs haben wir $m \geq \deg(f) =: n$.\\
				Sei $g = g_{m} X^{m} + \ldots$, $f = f_{n} X^{n} + \ldots$. Wir definieren 
				\[
					\widetilde{g} = g - \underbrace{g_{m} f_{n}^{-1} X^{m-m} f}_{\substack{\text{hat führenden Koeffizient } g_{m}\\ \text{und auch Grad $m$ (wie g) }}}
				.\] 
				womit $\deg(\widetilde{g}) < \deg(g) = m$. Auf Grund der Induktionsvorraussetzung können wie $\widetilde{q}$ und $\widetilde{r}$ finden, so dass
				\begin{align*}
					&\widetilde{g} = f \widetilde{q} + \widetilde{r} \qquad \deg(\widetilde{r}) < \deg(f)\\
					&g - g_{m} f_{n}^{^{-1}} X^{m-n} f = f \widetilde{g} + \widetilde{r}\\
					&g = f (\underbrace{g_{m} f_{n}^{-1} X^{m-1} + \widetilde{q}}_{=q}) + \underbrace{\widetilde{r}}_{=r}
				\end{align*}
				Dies beendet den Induktionsschritt.
			\end{proof}
	\end{itemize}
\end{proof}

\begin{eg}[Bsp für Polynomdivision]
	$g = x^{6} + x^{4} + 4x^3 + 2$, $f = x^2  + 5$ 
	\[
		\begin{array}{cccccccccc}
			&x^{6} + &0 x^{5} + &x^{4} + &3 x^3 + &0 x^2+ &0 x + &2 &: &x^2 + 5 = x^{4} - 4 x^{2} + 3x\\
			&-x^{6} & &- 5 x^{4} \\\cline{1-4}
			& & &-4 x^{4} &+ 4x^3 &+ 0 x^2 & &+ 2\\
			& & &-4 x^{4} & &+20x^2\\ \cline{4-8}
			 & & & &4x^3 &+ 20x^2 &+ 0x &+ 2\\
			 & & & &-3x^3 & &- 15x\\ \cline{5-8}
			 & & & & &20x^2 &- 15x &+2\\
			 & & & & &-20x^2 & &- 100\\ \cline{6-8}
			 & & & & & &-15x &- 98 &= r
		\end{array}
	\]
\end{eg}

\begin{proof}[Beweis von Beispiel $3$ ]
	$R = \Z[i]$ der Ring der Gausschen ganzen Zahlen
	\begin{align*}
		N(a+ib) = \abs{a+ib}^2 &\text{ für } a + ib \in \Q[i] \\
		\in \N &\text{ für } a+ib \in \Z[i]\\
		N(z\cdot w) = N(z) N(w) &\text{ für } z,w \in \Q[i]\\
		N(z) = 0  \Leftrightarrow z = 0 &\text{ multiplikativ} 
	\end{align*}

	\textbf{Normungleichung:} Sei $z,w \in \Z[i] \setminus \{0\}$. Dann gilt
	\[
		N(zw) = N(z) \underbrace{N(w)}_{\geq 1} \geq N(z)
	.\] 
	\begin{lemma}
		Die Division mit Rest gilt in $\Z[i]$.
	\end{lemma}
	\begin{proof}
		Seien $f,g \in \Z[i], f \neq 0$. Wir definieren $z = \frac{g}{f} \in \Q[i], z = a+ib$ f+r $a,b \in \Q$.
		Sei $[r] = $ die beste Näherung von $r \in \Q$ innerhalb von $\Z$.
		Definiere $q = [a] + i[b] \in \Z[i]$. Dann gilt 
		\begin{align*}
			\abs{z-q} \leq \sqrt{\underbrace{(a- [a])^2}_{\leq \frac{1}{2}} + \underbrace{(b+[b])^2}_{\leq \frac{1}{2}}} \leq \frac{1}{\sqrt{2}} \qq{ und }
			N(z-q) < 1
		\end{align*}
		Definiere $t = g - f q \implies g = fq + r$. Dann gilt
		\begin{align*}
			N(r) = \abs{r}^2 = \abs{g-fq}^2 = \abs{f}^2 \underbrace{\abs{z-q}^2}_{< 1} < N(f)
		.\end{align*}
	\end{proof}
\end{proof}

\begin{proof}[Beweis von Beispiel $4$]
	Der Ring $R = \Z [\sqrt{2}] = \{a + \sqrt{2} b: a,b \in \Z\}$ ist ein euklidischer Ring.
	Wir definieren $\phi: a + \sqrt{2} b \in \Q[\sqrt{2}] \mapsto \begin{pmatrix} 
		a & 2b\\ b & a
	\end{pmatrix} \in \mat_{22}(\Q)$.
	Dann ist $\phi$ ein Ringhomomorphismus.
	In der Tat ist $\phi$ auch $\Q$-linear, 
	\begin{align*}
		&\phi(1) = \begin{pmatrix} 
			1 &0\\ 0 &1
		\end{pmatrix} = I_2\\
		&\phi(\sqrt{2}) = \begin{pmatrix} 
			0 &2\\ 1 &0
		\end{pmatrix}, \phi(\sqrt{2})^2 = \begin{pmatrix} 
			0 &2\\ 1 &0
		\end{pmatrix}  = 2I_2 = \phi(\sqrt{2}^2)
	\end{align*} 
	daraus folgt $\phi(fg) = \phi(f) \phi(g)$ für $f,g \in \Q[\sqrt{2}]$.
	Wir definieren die Normfunktion
	\begin{align*}
		N(f) = \abs{\det(\phi(f))} = \abs{\det(\begin{pmatrix} 
				a & 2b\\ b &a
		\end{pmatrix} )} = \abs{a^2 - 2b^2}
	.\end{align*}
	mit $f = a + \sqrt{2} b \in \Q[\sqrt{2}]$.
	Daher gilt $N(fg) = N(f)N(g)$ für $f,g \in \Q[\sqrt{2}]$.
	Des weiteren filt $N(f) \geq 1$ für $f \in \Z[\sqrt{2}]$ 
	Folgt die Normungleichung 
	\[
		N(fg) = N(f) \underbrace{N(g)}_{\geq 1} \geq N(f)
	\]
	für $g \in \Z[\sqrt{2}] \setminus \{0\} $.
	\begin{lemma}
		In $\Z[\sqrt{2}]$ gilt die Division mit Rest.
	\end{lemma}
	\begin{proof}
		Seien $f,g \in \Z[\sqrt{2}], f \neq 0$ und $z= \frac{g}{f} = a + \sqrt{2} b \in \Q[\sqrt{2}]$ mit $a,b \in \Q$.
		Wir definieren $q = [a] + \sqrt{2} [b] \in \Z[\sqrt{2}]$. Dann gilt
		\begin{align*}
			N(z-q) = \abs{(a-[a])^2 - 2 (b-[b])^2} \leq \frac{1}{4} + 2 \frac{1}{4} < 1
		.\end{align*}
		Der restliche Beweis läuft analog zu $\Z[i]$.
	\end{proof}
\end{proof}

\begin{theorem}
	In einem Euklidischen Ring ist jedes Ideal ein Hauptideal.
\end{theorem}

\begin{proof}
	Sei $I \subseteq R$ ein Ideal in einem Euklidischen Ring $R$.
	Falls $I = \{0\}$, so ist $I = (0)$ ein Hauptideal.
	Wir nehmen nun an, dass $I \neq \{0\}$.
	Wir definieren $f \in I$ als ein Element mit $N(f) = \min \{\underbrace{N(g) : g \in I \setminus \{0\}}_{\subseteq \N \text{ nichtleer}}\}$.

	\textbf{Behauptung:} $I = (f)$. Da $f \in I$ ist, gilt auch $(f) \subseteq I$.
	Für die Umkehrung nehmen wir an, dass $g \in I$. 
	Nach Division mit Rest gibt es  $q,r \in R$ mit $g = q f + r$ und $r = 0$ oder $N(r) < N(f)$.

	Falls $r = 0$ ist, so ergibt sich $g = qf \in (f)$.\\
	Falls $r \neq 0$ ist, so ergibt sich 
	\[
		r = \underbrace{g}_{\in I} - q \underbrace{f}_{\in I} \in I
	\]
	mit $N(r) < N(f)$.
	Aber dies widerspricht der Definition von $f$.
	Folgt $I = (f)$ wie behauptet und dies ist der Satz.
\end{proof}

\section{Hauptidealring}
\begin{definition}
	Sei $R$ ein Integritätsbereich. Dann heißt $R$ ein \emph{Hauptidealring} falls jedes Ideal in $R$ ein Hauptideal ist.
\end{definition}

\begin{eg}
	Jeder euklidische Ring ist ein Hauptidealring.
\end{eg}

\begin{remark}
	Der Ring $\Z[\frac{1}{2}(1+i\cdot \sqrt{163})]$ ist ein Hauptidealring und kann nicht zu einem Euklidischen Ring gemacht werden.
\end{remark}

\begin{proposition}
	Sei $R$ ein Hauptidealring. Für je zwei Elemente $f,g \in R \setminus \{0\} $ gibt es einen größten gemeinsamen Teiler $d$ mit $(d) = (f) + (g)$.
\end{proposition}

\begin{definition}
	Seien $f,g,d \in R \setminus \{0\} $. Wir sagen $d $ ist ein gemeinsamer Teiler von $f$ und $g$ falls $d \mid f$ und $d \mid g$.
	Wir sagen $d$ ist ein größter gemeinsamer Teiler falls $d$ ein gemeinsamer Teiler ist und jeder gemeinsame Teiler $t$ auch $d$ teilt.
\end{definition}

\begin{remark}
	Zwei ggT's unterscheiden sich um eine Einheit (wenn $R$ ein Integritätsbereich ist).
\end{remark}

\begin{proof}
	Da $I = (f) + (g)$ ein Ideal ist und $R$ ein Hauptidealring ist, gibt es ein $d \in R$ mit $I = (d) = (f) + (g)$.
	Daraus folgt, $(f) \subseteq (d)$ und damit $d \mid f$. Genauso $(g) \subseteq (d)$ und damit $d \mid g$.
	Also ist $d$ ein gemeinsamer Teiler.
	Falls $t \in R$ ein weiterer gemeinsamer Teiler von $f$ und $g$ ist, so folgt $(f) \subseteq (t), (g) \subseteq (t)$ und somit
	$(d) = (f) + (g) \subseteq (t)$ und damit $t \mid d$.
	Also ist $d$ ein größter gemeinsamer Teiler.
\end{proof}

In einem Euklidischen Ring kann man einen ggT von $f,g \in R \setminus \{0\} $ durch den \emph{euklidischen Algorithmus} bestimmen.
\begin{enumerate}[1)]
	\setcounter{enumi}{-1}
	\item Falls $N(f) > N(g)$, so vertauschen wir $f$ und $g$. 
		Also dürfen wir annehmen, dass $N(f) \leq N(g)$.
	\item Dividiere $g$ durch $f$ mit Rest: $g = q f + r$
	\item Falls $r = $ ist, so ist $f$ ein ggT und der Algorithmus stoppt.
	\item Falls $r\neq 0$ ist, so ersetzen wir $(f,g)$ durch $(r,f)$ und springen nach $1)$.
\end{enumerate}

\begin{lemma}
	Der Euklidische Algorithmus (wie oben beschrieben) endet nach endlich vielen Schritten und berechnet einen ggT.
\end{lemma}

\begin{proof}
	Nach Schritt $0)$ gilt $\min(N(f), N(g)) = N(f)$. 
	Bei jedem Durchlauf von $1)-3)$ wird diese natürliche Zahl echt kleiner.
	Nach endlich vielen Schritten müssen wir also im Fall $2)$ sein.

	Im Schritt $0)$ ändern wir $I = (f) + (g)$ nicht.
	In $1)$ erhalten wir $q,r \in R$ mit $r = g- qf \in I$, $f \in I$.
	Außerdem ist $f \in I' = (r) + (f), g = qf + r \in I'$.
	Dies impliziert $(f) + (g) = I = I' = (r)+(f)$.
	Also ändert sich das Ideal $I$ nicht während des Algorithmus.
	Nach endlich vielen Schritten erreichen wir Falls $2)$ im Algorithmus:
	\[
		I = (f) + (g) = (a) + (b)
	.\] 
	mit $f,g$ den ursprünglichen Elementen und $a,b$ denen nach endlich vielen Schritten.
	Nun gilt $b = q \cdot a + \underbrace{0}_{r=0}$ und somit $I = (f) + (G) = (a)$.
	Mit dem Beweis von der Proposition folgt $a$ ist ein ggt von $f$ und $g$ und $a$ ist dann auch der Output vom Algorithmus.
\end{proof}

\begin{theorem}[Prime Elemente]
	Sei $R$ ein Hauptidealring.
	\begin{enumerate}[1)]
		\item Dann ist $p \in R \setminus \{0\} $ prim genau dann wenn $p$ irreduzibel ist.
		\item Jedes $f \in R \setminus \{0\} $ lässt sich als Produkt einer Einheit und endlich vielen primen Elementen schreiben.
	\end{enumerate}
\end{theorem}

\begin{proof}[Beweis von $1)$ ]
	Wir wissen bereits, dass jedes prime Element irreduzibel ist (siehe Lemma in $3.0$).
	Wir nehmen nun an, dass $p \in R \setminus \{0\} $ irreduzibel ist.
	Wie nehmen weiters an, dass $p \mid ab$ für $a,b \in R$.
	Falls $p \mid a$, so gibt es nichts zu beweisen.
	Also nehmen wir an, dass $p \nmid a$.

	Sei $d$ ein ggT von $p$ und $a$, also insbesondere ist $d \mid p = d \cdot e$.
	Da $p$ irreduzibel ist gilt $d \in R^{\times}$ oder $e \in R^{\times}$.
	Angenommen $e \in R^{\times}$ dann folgt $d = p e^{-1}$ also $p \mid d, d \mid a$ folgt $p \mid a$ was unserer Annahme widerspricht.

	Somit ist $d \in R^{\times}$. $d = x p + y a$ für $x,y \in R$ da dies nach der Proposition in einem Hauptidealring gilt.
	Multipliziert man dies $b d^{-1}$ so erhält man
	\[
		b = \underbrace{x b d ^{-1} p}_{p \mid -''-} + \underbrace{y d ^{-1} a b}_{p \mid ab}
	.\] 
	Somit folgt $p \mid b$.
\end{proof}

\begin{theorem}
	Sei $R$ ein Hauptidealring und $p \in R$ irreduzibel.
	Dann ist $(p)$ ein Maximalideal. Insbesondere ist $p$ prim.
\end{theorem}

\begin{proof}
	Sei $R$ ein Hauptideal Ring und $p \in R$ irreduzibel.
	Sei $J \subseteq R$ ein Ideal mit $J \supsetneq (p)$.
	Da  $R$ ein Hauptidealring ist, gibt es ein $d \in R$ mit $J = (d) \supsetneq (p)$.
	Also gibt es ein $c$ mit $p = d \cdot c$.
	Also folgt $d \in R^{\times}$ oder $c \in R^{\times}$ (da $p$ irreduzibel ist).

	Falls $c \in R^{\times}$ ist, so ist $d = p \cdot c^{-1} \in (p)$ und damit $J = (d) = (p)$ - ein Widerspruch zur Annahme an  $J$.

	Also gilt $d \in R^{\times}$ und $1 = d d^{-1} \in (d) = J = R$.
	Da $J \subseteq R$ mit $(p) \subsetneq J$ beliebig war, ist $ (p)$ ein Maximalideal.
\end{proof}

Für den Beweis vom Satz über Prime Elemente Eigenschaft 2 verwenden wir:
\begin{proposition}
	Sei $R$ ein Hauptidealring und seien $J_0 \subseteq J_1 \subseteq J_2 \subseteq \ldots$ eine austeigende Kette von Idealen in $R$.
	Dann gibt es ein $n \in \N$ mit $J_{m} = J_{n}$ für alle $m \geq n$.
\end{proposition}

\begin{proof}
	Wir definieren $J = \bigcup_{n \in \N} J_{n}$ und erhalten, dass $J$ ein Ideal ist.
	Da $R$ ein Hauptidealring ist, gibt es also ein $d \in R$ mit $J = (d)$.
	Also gibt es ein $n \in \N$ mit $d \in J_{n}$. Daraus folgt 
	\[
		J = \bigcup_{i \in \N} J_{i} = (d) \subseteq J_{n} \subseteq J_{m} \subseteq J = (d)
	.\] 
	für alle $m \geq n$.

\end{proof}

\begin{proof}[Beweis vom Satz über Prime Elemente Eigenschaft 2]
	Sei $f \in R \setminus \{0\} $. Für diesen Beweis sagen wir, dass $f$ \emph{zerlegbar} ist.
	Falls sich $f$ als ein Produkt einer Einheit und endlich vielen ($n \in \N$) irreduziblen Elementen schreiben lässt.
	Falls $f \in R^{\times}$ ($n = 0$) oder $f$ irreduzibel ($n = 1$) ist, so ist $f$ zerlegbar.

	Wir beweisen die Aussage mit einem Widerspruchsbeweis und nehmen an $f \in R \setminus \{0\} $ sei nicht zerlegbar.
	Also ist $f$ nicht irreduzibel, $f = f_0 = f_1 \widetilde{f_1}$ wobei $f_1$, $\widetilde{f_1} \not\in R^{\times}$.
	Falls $f_1$ und $\widetilde{f_1}$ beider zerlegbar wären, so würde dies auch für $f$ folgen.

	O.B.d.A. dürfen wir also annehmen, dass $f_1$ nicht zerlegbar ist.
	Wir iterieren dieses Argument und erhalten
	\begin{align*}
		f_0 = f_1 \widetilde{f_1} \quad f_1 = f_2 \widetilde{f_2} \quad f_2 = f_3 \widetilde{f_3} \ldots
	.\end{align*}
	mit $f_0, f_1,f_2,f_3,\ldots$ nicht zerlegbar und $\widetilde{f_1}, \widetilde{f_2}, \widetilde{f_3},\ldots \not\in  R^{\times}$.

	Es gilt $f_{n+1} \mid f_{n}$ und daher $(f_{n}) \subseteq (f_{n+1})$ für alle $n \in \N$.
	Wir wenden also die Proposition von vorhin an und erhalten, dass es ein $n \in \N$ mit $(f_{n}) = (f_{n+1})$ gibt.
	Da $R$ ein Integritätsbereich ist, folgt aus $(f_{n}) = (f_{n+1})$, dass sich $f_{n}$ und $f_{n+1}$ multiplikativ um eine Einheit unterscheiden.
	Also gilt 
	\[
	\frac{f_{n}}{f_{n+1}} = \widetilde{f_{n+1}} \in R^{\times}
	,\] 
	was den Konstruktion von $f_{n}, \widetilde{f_{n}}$ widerspricht.
	Dieser Widerspruch zeigt, dass jedes Element $f \in R \setminus \{0\} $ wie im Satz formuliert zerlegbar ist.
\end{proof}

%ZFE begin include
\begin{eg}
	Einige Primzahlen in $\Z[i]$, z.B. sind $1\pm i,3,2\pm i$ Primzahlen in $\Z[i]$.
	%TODO maybe das über Z[i] 09.faktor S5

	$2$ ist keine Primzahl in $\Z[i]$, da $2 = (1+i)(1-i)$.
	$5$ ist auch keine Primzahl in $\Z[i]$, da $5 = (2+i)(2-i)$.

	Nach dem ersten folgenden Lemma ergibt sich nun, dass $1 \pm i$, $2 \pm i$ Primzahlen in $\Z[i]$ sind.
	Nach dem zweiten Lemma sind $3,7$ Primzahlen in $\Z[i]$.
\end{eg}
%ZFE end include

\begin{lemma}
	Sei $z \in \Z[i]$ so dass $N(z) = p \in \N$ eine Primzahl in $\N$ ist.
	Dann ist $z$ irreduzibel (also prim) in $\Z[i]$.
\end{lemma}

\begin{proof}
	Angenommen $z = u \cdot v$ ist ein Produkt von $u,v \in \Z[i]$.
	Dann ist $p = N(z) = \underbrace{N(u)}_{\in \N} \cdot \underbrace{N(v)}_{\in\N}$ und daher $N(u) = 1$ ($u \in \Z[i]^{\times}$ ) oder $N(v) = 1$ ($v \in \Z[i]^{\times}$ ).
\end{proof}

\begin{lemma}
	Angenommen $p \in \N$ ist eine Primzahl in $\N$, die sich \emph{nicht} als Summe zweier Quadratzahlen schreiben lässt.
	Dann ist $p$ auch eine Primzahl in $\Z[i]$.
\end{lemma}

\begin{proof}
	Wir zeigen, dass $p$ in $\Z[i]$ irreduzibel ist.
	Also angenommen $p = z \cdot w$ für $z,w \in \Z[i]$.
	Dann folgt $N(p) = N(z) N(w) = p^2$ und damit $N(z) \mid p^2$ in $\N$, womit $N(z)),N(w) \in \{1,p,p^2\} $ ist.
	Dabei ist aber $N(z) = N(a+ib) = a^2 + b^2 = p$ nicht möglich.
	Also gilt $N(z),N(w) \in \{1,p^2\}$ und es folgt $N(z) = 1$ (und $N(w) = p^2$ ) oder $N(w) = 1$ (und $N(z) = p^2$ ).
	Also ist $z \in \Z[i]^{\times}$ oder $w \in \Z[i]^{\times }$.
\end{proof}

\begin{eg}
	Im Ring der Poynome $K[x]$ mit einer Variable über einem Körper $K$ gibt es irreduzible Elemente:
	\begin{enumerate}[{Grad} 1:]
		\item jedes Polynom vom Grad $1$ ist irreduzibel.
		\item ein Polynom vom Grad $2$ ist irreduzibel genau dann wenn es keine Nullstellen im Körper $K$ hat.
		\item selbes wie bei Grad $2$.
		\item das betrachten von Nullstellen ist nicht mehr ausreichend. 
	\end{enumerate}
	Dies hängt stark vom Körper $K$ ab.
\end{eg}

\section{Faktorielle Ringe}

\begin{definition}
	Ein Integritätsbereich $R$ heißt ein \emph{faktorieller Ring} falls jedes $a \in R \setminus \{0\}$ sich als ein Produkt von einer Einheit
	und endlich vielen Primelemente von $R$ schreiben lässt: $a = u, p_1,\ldots,p_{m}$ für $u \in R^{\times}, m \in \N, p_1,\ldots p_{m} \in R$ prim.
\end{definition}

\begin{eg}
	Jeder Euklidische und jeder Hauptidealring.
	Es gibt noch weitere Bsp, wir werden zeigen, dass z.B. $\Z[x,y,z]$ ein faktorieller Ring ist.
\end{eg}

\begin{proposition}
	Sei $R$ ein faktorieller Ring.
	Dann ist $p \in R \setminus \{0\} $ irreduzibel gdw. $p$ prim ist.
\end{proposition}

\begin{proof}
	$\impliedby$: \checkmark schon gezeigt\\
	$\implies$: Sei also $p$ irreduzibel. Dann ist $p = u \cdot  q_1,\ldots,q_{n}$ ein Produkt einer Einheit
	$u \in R^{\times}$ und Primelementen $q_1,\ldots, q_{n} \in R$ nach Annahme an $R$.
	Da $p$ irreduzibel ist folgt $n =1$ und $(p) = (q_1)$, womit $(p)$ ein Primideal ist und $p$ selbst ein Primelement ist.
\end{proof} 

\begin{corollar}
	Sei $R$ ein Integritätsbereich. Dann ist $R$ faktoriell gdw. jedes Element von $R \setminus \{0\} $ eine Zerlegung als ein Produkt
	von einer Einheit und endlich vielen irreduziblen Elementen besitzt und jedes irreduzible Element auch ein Primelement ist.
\end{corollar}

\begin{definition}
	Sei $R$ ein kommutativer Ring und $a,b \in R$.
	Wir sagen $a,b$ sind \emph{assoziiert} und schreiben $a \sim b$ falls es eine Einheit
	$u \in R^{\times}$ gibt mit $a = u b$.
\end{definition}

\begin{lemma}
	Dies definiert eine Äquivalenzrelation auf $R$.
\end{lemma}

\begin{proof}
	\begin{itemize}
		\item $a \sim a$ da $a = 1 \cdot a$ und $1 \in R^{\times}$.
		\item $a \sim b \implies b \sim a$: Gilt  $a = u b \implies b = u^{-1} b$ mit $u^{-1} \in R^{\times}$-
		\item $a \sim b$ und $b \sim c \implies a \sim c$ : Gilt $a = ub$ und $b = vc \implies a = (uv)c$ mit $uv \in R^{\times}$. Also $a \sim c$.
	\end{itemize}
\end{proof}

\begin{lemma}
	Sei $R$ ein Integritätsbereich. Seien $p,q \in R \setminus \{0\} $ irreduzibel und $p \mid q$.
	Dann gilt $p \sim q$.
\end{lemma}

\begin{proof}
	Nach Annahme gibt es ein $a \in R$ mit $q = a \cdot p$.
	Da $q$ irreduzibel ist folgt $a \in R^{\times}$ oder $p \in R^{\times}$.
	Da $p$ irreduzibel ist, kann $p \in R^{\times}$ nicht gelten.
	Also ist $a \in R^{\times}$ und $p \sim q$.
\end{proof}

\begin{definition}[Wh.]
	Für $n \in \N_{> 0}$. sei $S_{n}$ die \emph{symmetrische Gruppe} auf der Menge $\{1,\ldots,n\}$, d.h.
	\[
	S_{n} = \{ \sigma: \{1,\ldots, n\} \to \{1,\ldots,n\} \text{ bijektiv}\} 
	.\] 
\end{definition}

\begin{theorem}[Eindeutige Primfaktorzerlegung]
	Sei $R$ ein faktorieller Ring, dann besitzt jedes nichttriviale Element von $R$ eine bist auf Permutation und Assoziierung 
	eindeutige Primfaktorzerlegung.

	Genauer gilt also für jedes $a \in R \setminus \{0\} $ gibt es eine Einheit $u \in R^{\times}$, $m \in \N$, und
	Primelemente $p_1,\ldots,p_{m}$ mit $a = u p_1 \ldots p_{m}$.\\
	Falls $a = v q_1 \ldots q_{n}$ eine weitere Zerlegung ist, wobei $v \in R^{\times}$, $n \in \N$ und $q_1,\ldots,q_{n}$ prim sind,
	dann gibt es $\sigma \in S_{n}$ so dass $q_{j} \sim p_{\sigma(j)}$ für $j = 1,\ldots,n$ und $m = n$.
\end{theorem}

	Die Existenz der Zerlegung ist die Definition von \enquote{faktorieller Ring}.
	Wir nennen $p_1,\ldots p_{m}$ die Primfaktorzerlegung von $a$.

\begin{proof}[Beweis der Eindeutigkeit]
	Angenommen $a = u p_1 \ldots p_{m} = v q_1 \ldots q_{n}$ mit $u,v \in R^{\times}, m,n \in \N$ und
	$p_1,\ldots,p_{m}, q_1,\ldots, q_{n}$ Primelemente in $R$.
	Falls $n = 0$ ist, so ist $a = v \in R^{\times}$.
	Daraus folgt aber auch $m = 0$
	(Falls $m > 0$ wäre, so folgt mit $p_1 \mid a$ und $a \mid 1$ dass $p_1 \mid 1$ - ein Widerspruch zur Annahme an $p_1$ prim).

	Wir verwenden Induktion nach $n$ und nehmen an, dass die Eindeutigkeit 
	bereits gilt falls eine der beiden Zerlegungen weniger als $n$ Faktoren besitzt.
	Wir nehmen an $n > 0$.
	Da $a = u p_1 \ldots p_{m} = v q_1 \ldots q_{n}$ gilt $q_{n} \mid a$.
	Da $q_{n}$ ein Primelement von $R$ ist, gibt es einen Index $i = \sigma(n)$, so dass $q_{n} \mid p_{\sigma(n)}$.
	Nach einem Lemma vom letzten Mal folgt daraus $q_{n} \sim p_{\sigma(n)}$.
	Wir verwenden nun die Induktionsannahme für
	\[
		\frac{a}{q_{n}} = \underbrace{u \frac{p_{\sigma(n)}}{q_{n}}}_{\in R^{\times}} p_1 \ldots p_{\sigma(n) -1} p_{\sigma(n) + 1} \ldots p_{m} = 
		v q_1 \ldots q_{n-1}
	.\] 
	Es folgt $n-1 = m-1$ und es gibt eine Bijektion 
	\[
		\sigma: \{1,\ldots,n-1\} \to \{1,\ldots, \sigma(n)-1, \sigma(n) + 1, \ldots, m\} 
	\] 
	so dass $q_{j} \sim p_{\sigma(j)}$ für $j = 1,\ldots,n-1$.
	Dies gilt auch für $j = n$.
	Dies beendet den Induktionsschritt.
\end{proof}

\begin{definition}
	Sei $R$ ein faktorieller Ring.
	Wir sagen $P \subseteq R$ ist eine \emph{Repräsentantenmenge} (der Primelemente) falls jedes $p \in P$ ein Primelement in $R$ ist
	und es zu jedem Primelement $q \in R$ ein eindeutig bestimmtes $p \in P$ gibt mit $q \sim p$.
\end{definition}

\begin{eg}
	Für $R = \Z$ betrachten wir $P = \{p \in \Z \text{ prim und positiv}\} $.
	Für $R = K[x]$ betrachten wir 
	\[
		P = \{f \in K[x] \text{ irreduzibel und $f$ normiert}\} 
	.\] 
	Normiert: Der führende Koeffizient von $f$ ist gleich $1$.\\
	Für $R = \Z[i]$ verwenden wir $P = \{a+ib : a,b \in \Z, a+ib \text{ prim und } -a < b \leq a\} $
\end{eg}

\begin{lemma}
	Sei $R$ ein faktorieller Ring.
	Dann existiert eine Repräsentantenmenge.
\end{lemma}

\begin{proof}
	Wir verwenden das Auswahlaxiom für die Menge $\{[p]_{\sim}: p \in R \text{ prim}\} $ und erhalten
	$P$ als Bild der Auswahlfunktion.
\end{proof}

\begin{theorem}[Eindeutige Primfaktorzerlegung]
	Sei $R$ ein faktorieller Ring und $P \subseteq R$ eine Repräsentantenmenge.
	Dann besitzt jedes $a \in R \setminus \{0\}$ eine eindeutige Primfaktorzerlegug
	der Form 
	\[
		a = u \prod_{p \in P} p^{n_p} \left[ = u \prod_{\substack{p \in P\\ n_{p} > 0}} p^{n_{p}}  \right]
	\] 
	wobei $n_{p} = 0$ für alle bis auf endlich viele $p \in P$.
\end{theorem}

\begin{proof}[Beweis der Existenz]
	Falls $a \in R^{\times}$ so setzen wir $u = a$ und $n_{p} = 0$ für alle $p \in P$.
	Ansonsten ist $a = u p_1 \ldots p_{n}$, wie in der Definitin von faktoriellen Ringen.
	Zu jedem $p_{j}$ gibt es ein eindeutig bestimmtes $p \in P$ mit $p_{j} \sim p$.
	Damit erhalten wird
	\[
		a = \underbrace{u \frac{p_1 \ldots p_{m}}{\prod_{p \in P} p^{n_{p}} }}_{\in R^{\times}} \prod_{p \in P} p^{n_{p}}
	\] 
	wobei $n_{p} = \#j$ mit $p_{j} \sim p$.
\end{proof}

\begin{proof}[Beweis der Eindeutigkeit]
	Angenommen $a = u \prod_{p \in P} p^{n_{p}} = v \prod_{p \in P} p^{n_{p}'}$.
	Falls $n_{p}' = 0$ für alle $p \in  P$, so ist $a = v \in R^{\times}$ und $n_{p} = 0$ für alle $p \in P$ und $a = u$.

	Ansonsten ist $n_{p}' > 0$ für ein $p_0 \in P$ und daher gilt $p_0 \mid a = u \prod_{p \in P} p^{n_{p}}$,
	was $n_{p_0} > 0$ impliziert auf Grund der Eigenschaften der Repräsentantenmenge.
	Wir verwenden Induktion nach $\sum_{p \in P} n_{p}' $.
\end{proof}

\begin{lemma}
	Sei $R$ ein faktorieller Ring und $P \subseteq R$ eine Repräsentantenmenge.
	Sei $a = u \prod_{p \in P} p^{m_{p}}$ und $b = v \prod_{p \in P} p^{n_{p}}$.
	Dann gilt $a \mid b$ gdw. $m_{p} \leq n_{p}$ für alle $p \in P$.
\end{lemma}

\begin{proof}
	\enquote{$\implies$}: $b = ac$ und $c = w \prod_{p \in P} p^{k_{p}}$. Dann folgt
	\begin{align*}
		v  \prod_{p \in P} p^{n_{p}} = b = u w \prod_{p \in P} p^{m_{p} + k_{p}}
	\end{align*}
	und daher $n_{p} = m_{p} + k_{p} \geq m_{p}$ für alle $p \in P$.

	\enquote{$\impliedby$}: Wir definieren $c = v u^{-1} \prod_{p \in P} p^{n_{p} - m_{p}} \in R$.
	Dann gilt
	\[
	a c = u \prod_{p \in P} p^{m_{p}} \cdot v u^{-1} \prod_{p \in P} p^{n_{p} - m_{p}} = v \prod_{p \in P} p^{n_{p}} = b
	.\] 
	also $a \mid b$.
\end{proof}

\begin{proposition}[ggT]
	Sei $R$ ein faktorieller Ring mit Repräsentantenmenge $P$.
	Dann existiert für jedes Paar $a,b \in R$, nicht beide $0$,
	ein ggT. Falls $a = u \prod_{p \in P} p^{m_{p}}, b = v \prod_{p \in P} p^{n_{p}}$ ist, so ist
	$\prod_{p \in P} p^{\min(m_{p},n_{p})}$ ein ggT von $a$ und $b$.
\end{proposition}

\begin{proof}
	Wir haben $d \mid a$ und $d \mid b$ auf Grund des Lemmas.
	Falls $t = w \prod_{p \in P} p^{k_{p}}$ ein weiterer gemeinsamer Teiler von $a$ und $b$ ist,
	so folgt $k_{p} \leq m_{p}$, $k_{p} \leq n_{p}$ und damit $k_{p} \leq \min(m_{p}, n_{p})$ für alle $p \in P$.
	Daraus folgt $t \mid d$.
\end{proof}

Wir können analog den ggT von mehreren Elementen $a_1,\ldots, a_{l} \in R$ definneren und die obige Proposition gilt analog.

\begin{definition}
	Sei $R$ ein faktorieller Ring. Wir sagen $a_1,\ldots,a_{l} \in R$ sind \emph{coprim} falls $1$ ein ggT von
	$a_1,\ldots,a_{l}$ ist, oder äquivalenterweise falls es zu jedem Primelement $p$ in $R$ 
	ein $a_{j}$ gibt so dass $a_{j}$ nicht durch $p$ teilbar ist.
\end{definition}

\begin{corollar}
	Sei $R$ ein faktorieller Ring mit Quotientenkörper $K$.
	Dann hat jedes $x \in K$ eine Darstellung $x = \frac{a}{b}$ mit $a,b \in R$ coprim, $b \neq 0$.
\end{corollar}

\begin{proof}
	Angenommen $x = \frac{\widetilde{a}}{\widetilde{b}} \in K$ und sei $d$ der ggT von $\widetilde{a}$ und $\widetilde{b}$.
	Wir definieren $a = \frac{\widetilde{a}}{d}$ und $b = \frac{\widetilde{b}}{d}$ und erhalten, dass $a,b$ coprim
	sind und 
	\[
	x = \frac{\widetilde{a}}{\widetilde{b}} = \frac{\frac{\widetilde{a}}{d}}{\frac{\widetilde{b}}{d}} = \frac{a}{b}
	.\] 
\end{proof}

\begin{corollar}
	Sei $R$ faktoriell und $K = \operatorname{Quot}(R)$. Dann hat jedes $x \in K$ eine Darstellung der Form 
	\[
	x = u \prod_{p \in P} p^{n_{p}}
	,\]
	wobei $n_{p} \in \Z$ und gleich $0$ für alle bis auf endlich viele $p \in P$ ist.
\end{corollar}

\begin{eg}[Ein Gegenbeispiel]
Wir definieren $R = \Z[i \sqrt{5}] \subseteq K = \Q[i \sqrt{5}] \subseteq \C$.
Also  $R = \{a + i \sqrt{5} b : a,b \in \Z\}$.
Zerlegungen der $6$ :
\begin{align*}
	6 = 2 \cdot 3 = (1+ i \sqrt{5} )(1 - i \sqrt{5} )
.\end{align*}
\begin{enumerate}
	\item Behauptung: $2,3, 1 \pm i \sqrt{5} $ sind alle irreduzibel in $R$.
	\item Behauptung: $2 \not\sim 1 \pm i \sqrt{5}$ und $3 \not\sim 1 \pm i \sqrt{5}$.
\end{enumerate}

\begin{proof}[Beweis der 2. Behauptung]
	 \begin{align*}
		\frac{1 \pm i \sqrt{5} }{2} = \frac{1}{2} \pm i \sqrt{5} \frac{1}{2} \not\in R \qq{ und }
		\frac{1 \pm i \sqrt{5} }{3} = \frac{1}{3} \pm i \sqrt{5} \frac{1}{3} \not\in R
	.\end{align*}
	Folgt die 2. Behauptung.
\end{proof}

\textbf{$2$ ist irreduzibel:}\\
Angenommen $2 = z \cdot w$, $z,w \in R$.
Wir verwenden die Normfunktion $N(a+i \sqrt{5} b) = \abs{a + i\sqrt{5} b}^2 = a^2 + 5b^2$ für $a+i \sqrt{5} b \in R$ hat
diese Normfunktion Werte in $\N$.
\begin{align*}
	\implies 4 = N(2) = N(z) N(w) \implies N(z), N(w) \in \{1,2,4\}
.\end{align*}
$2$ kann nicht sein also $\{N(z), N(w)\} = \{1,4\} $.
Falls $N(z) = 1$ ist, so ist $z \pm 1$ eine Einheit in $R$.
Analog für $N(w) = 1$.

\textbf{$3$ ist irreduzibel:}\\
Analog: $N(z) = 3 = a^2 + 5 b^2$ ist nicht möglich.

\textbf{Auch $1 \pm i \sqrt{5}$ sind irreduzibel:}\\
$1 \pm i \sqrt{5} = zw \implies N(1 \pm i \sqrt{5} ) = 6 = N(z)N(w) \implies N(z)N(w) \in \{1,\cancel{2,3},6\} $
Also ist $z$ oder $w$ eine Einheit in $R$.

Beispiele dieser Art führten zur Erfindung von \enquote{idealisierten Primfaktoren} (heute Primideale).
$(6) = (2,1+ i\sqrt{5})^2(3,1+i\sqrt{5} )(3,1-i\sqrt{5})$
\end{eg}

\section{Einige algebraische Euklidische Ringe}
Alle Beispiele, die wir hier betrachten wollen,leben in einem quadratischen Zahlenkörper:
$ K = \Q[\sqrt{d}] = \{a + b\sqrt{d} :a,b \in \Q \} $ mit $d \in \Z$, das kein Quadrat ist.
Isomorph dazu $\sfrac{\Q[x]}{(x^2-d)}$.

Wir definieren auf $K$ die Konjugation $\tau: K \to K, a+ b\sqrt{d} \mapsto a- b \sqrt{d}$.
Dies definiert einen Körperautomorphismus.

\begin{proof}
	Wir definieren $\Ev_{\sqrt{d}}: \Q[x] \to K, f \mapsto f(\sqrt{d})$.
	$\Ev_{\sqrt{d}}(x^2-d) = 0$.
	Da $x^2-d$ keine Nullstellen in $\Q$ hat (Annahme an $d$), ist $x^2-d$ irreduzibel/prim in $\Q[x]$.
	Daher folgt $(x^2-d)$ ist ein Maximalideal.
	Gemeinsam mit $(x^2-d) \subseteq \ker(\Ev_{\sqrt{d}})$, erhalten wir $(x^2-d) = \ker(\Ev_{\sqrt{d}})$.
	Der erste Isomorphiesatz ergibt nun
	\[
		\sfrac{\Q[x]}{(x^2-d)} = \sfrac{\Q[x]}{\ker(\Ev_{\sqrt{d}})} \stackrel{\varphi_{+}}{\cong} \Q[\sqrt{d}] = K
	.\]
	Beweis Körperautomorphismus:
	\[
		\begin{tikzcd}
			K \arrow[r, "\varphi_{+}"] \arrow[rr, "\tau", bend right] & {\sfrac{\Q[x]}{(x^2-d)}} \arrow[r, "\varphi_{-}"] & K         \\
			\sqrt{d} \arrow[r, maps to]                                & X+(x^2+d) \arrow[r, maps to]                       & -\sqrt{d}
		\end{tikzcd}
	\]
	Wobei der Isomorphismus $\varphi_{+}$ Auswertungen bei $\sqrt{d}$ verwendet und analog
	dazu der Isomorphismus $\varphi_{-}$ Auswertungen bei $\sqrt{-d}$ verwendet.
\end{proof}

%TODO maybe copy slide 1

Auf $K$ definieren wir die Normfunktion
\[
	N(a+b \sqrt{d} ) = (a+b \sqrt{d} )(a-b \sqrt{d}) = a^2 - d b^2 
\]
so dasss $N : K \to \Q$ multiplikativ ist, daher 
\[
	N(zw) = (zw) \underbrace{\tau(zw)}_{\tau(z) \tau(w)} = N(z) N(w) \qq{ für } z,w \in K
.\] 
Weiters $N(z) = 0 \Leftrightarrow z = 0$ für alle $z = a + b + \sqrt{d} \in K $.

Wir werden den Ring $R = \Z[\sqrt{d}]$ betrachten und wollen $\phi(z) = \abs{N(z)}$ als Gradfunktion verwenden.

\begin{theorem}
	Für $d = -1, -2, 2, 3$ ist  $R = \Z[\sqrt{d}]$ ein Euklidischer Ring, wobei wir $\phi(z) = \abs{N(z)}$ als Gradfunktion verwenden.
\end{theorem}

\begin{proof}
	Seien $f,g \in R, f \neq 0$. Wir definieren $z = \frac{g}{f} \in \Q[\sqrt{d}] = a+b \sqrt{d}$ mit $a,b \in \Q$.
	Wir definieren $q = \underbrace{[a]}_{\in \Z} + \underbrace{[b]}_{\in \Z} \sqrt{d} \in R$ als die beste Approximation.
	Dann gilt 
	\begin{align*}
		\phi(z-q) = \abs{N(z-q)} = \abs{(\underbrace{a-[a]}_{\leq \frac{1}{2}})^2 - d (\underbrace{b-[b]}_{\leq \frac{1}{2}})^2 } \leq \frac{1}{4} + \abs{d} \frac{1}{4} < 1 \tag{$*$}
	\end{align*}
	für $d = -1,-2,2$.
	Für $d = 3$ gilt in $(*)$ Gleichheit, aber da die beiden Ausdrücke im Absolutbetrag verschiedene Vorzeichen haben,
	gilt auch hier $\phi(z-q) < 1$.

	Wir definieren $r = g - f \cdot q \in \Z[\sqrt{d}]$, und erhalten $g = fq + r$ und 
	\[
		\phi(r) = \abs{N(r)} = \abs{N(g-f\cdot q) } = \abs{N(f) N(z-q)} < \abs{N(f)} = \phi(f)
	.\] 
\end{proof}

Sei $R = \Z[\sqrt{d}]$.
\begin{lemma}
	Es gilt $u \in R^{\times} \Leftrightarrow N(u) = \pm 1$.
\end{lemma}

\begin{lemma}
	Falls $z \in R$ eine Primzahl in $\Z$ als Norm hat, so ist $z$ in $R$ irreduzibel.
\end{lemma}

\begin{lemma}
	Falls $p \in \Z$ eine Primzahl in $\Z$ ist, so dass weder  $p$ noch $-p$ eine Norm von einem Element
	iin $R$ ist, so ist $p$ ein irreduzibles Element in $R$.
\end{lemma}

\begin{proof}[Beweis von Lemma 1]
	Sei $u \in R^{\times}$. Dann gibt es $v \in R^{\times}$ mit $uv = 1$. Daraus folgt $\underbrace{N(u)}_{\in \Z} \underbrace{N(v)}_{\in \Z} = N(uv) = 1$ 
	und daher $N(u) = \pm 1$.

	Angenommen  $u \in R$ erfüllt $N(u) = \pm 1$. Dann gilt $u \cdot (\pm \tau(u)) = \pm N(u) = 1$ also $u^{-1} = \pm \tau(u)$.
\end{proof}

\begin{proof}[Beweis von Lemma 2]
	Angenommen $z \in R$ erfüllt $N(z) = p$, wobei $p \in \Z$ eine Primzahl ist.
	Angenommen $z = v\cdot w$ für $v,w \in R$. Dann folgt $p = N(z) = N(v) N(w)$.
	Da $p \in \Z$ irreduzibel in $\Z$ ist, folgt daraus $\underbrace{N(v) = \pm 1}_{v \in R^{\times}}$ oder $\underbrace{w = \pm 1}_{w \in R^{\times}}$.
\end{proof}

\begin{proof}[Beweis von Lemma 3]
	Sei $p \in \Z$ prim und weder $p $ noch $-p$ eine Norm.
	Angenommen $p = vw$ für $v,w \in R$. Dann folgt $p^2 = N(p) = N(v) N(w)$.
	Da $p$ eine Primzahl ist folgt daraus $N(v), N(w) \in \{\pm 1, \pm p, \pm p^2\}$.
	Wobei $\pm p$ nach Annahme nicht auftritt. 
	Also gilt $\underbrace{N(v) = \pm 1}_{v \in R^{\times}}$ (und  $N(w) = \pm p^2$) oder $\underbrace{N(w) = \pm 1}_{w \in R^{\times}}$ (und $N(v) = \pm p^2$ ).
\end{proof}

\begin{theorem}[Gausssche ganze Zahlen]
	Sei $R = \Z[i]$ der Ring der Gausschen ganzen Zahlen.
	Dann ist $R$ ein Euklidischer Ring. Wir können in $R$ die Repräsentantenmenge
	\[
	p = \{z = a + ib \in R \mid z \text{ prim, } -a < b \leq a\} 
	\] 
	verwenden. Diese Menge $P$ enthält
	\begin{itemize}
		\item (Ramified): $z = 1+i$ mit $2 = -i (1+i)^2$
		\item (Inert): $p \in \N$ prim mit $p \equiv 3 \mod 4$,
			z.B. $3,7,11,\ldots$.
		\item (Split): $z = a \pm b i$ prim in $R$, wobei $a,b \in \N, b < a$ und
			$a^2 + b^2 = p = 1 \mod 4$ mit $p \in \N$ prim. $p = (a+ib)(a-ib)$ 
			z.B. $5,13,\ldots$
	\end{itemize}
\end{theorem}

\begin{lemma}
	Sei $p \in \N$ prim. Dann ist $(p-1)! \equiv -1 \mod p$ .
\end{lemma}

\begin{proof}
	\begin{align*}
		(p-1)! = \prod_{k=1}^{p-1} k \stackrel{(*)}{=} 1 \cdot \left(\prod_{\substack{1 < a < p < p-1\\ a\cdot b = 1 \mod p}} (ab) \right) \cdot (p-1) \equiv -1 \mod p
	.\end{align*}
	Wann gilt $x = x^{-1}$ für $x \in \F_{p}^{\times}$? 
	\[
		x = x^{-1} \Leftrightarrow x^2 = 1 \Leftrightarrow x^2 -1 = 0 \Leftrightarrow (x+1)(x-1) = 0 \Leftrightarrow x = \pm 1
	\] 
	in $\F_{p}$ ist. Dies beweist $(*)$.
\end{proof}

\begin{proposition}
	Sei $p \in \N$ kongruent $1 \mod 4$.
	Dann gibt es in  $\F_{p}$ zwei Lösungen der quadratischen Gleichung $x^2 = -1$.
\end{proposition}

\begin{eg}
	$p = 5, x = 2 \implies x^2 = 4 = -1 $ in $\F_{5}$.\\
	$p = 13, x = 5 \implies x^2 = 25 = -1$ in $\F_{13}$.
\end{eg}

\begin{proof}
	Wir definieren $x = \left( \frac{p-1}{2} \right)!$ in $\F_{p}$.
	Dann gilt
	\begin{align*}
		x^2 = 1 \cdot 2 \cdot 3 \cdot \ldots \cdot \left(p-\frac{1}{2}\right) \cdot\underbrace{ \left( \frac{p-1}{2} \right) \ldots \cdot 3 \cdot 2 \cdot 1
		}_{\frac{p-1}{2} - \text{Faktoren}} \cdot (-1)^{\frac{p-1}{2}}
	.\end{align*}
	und $\frac{p-1}{2}$ ist gerade.
	\begin{align*}
		&= 1 \cdot 2 \cdot 3 \cdot \ldots \cdot  \left( \frac{p-1}{2} \right) \left( - \frac{p-1}{2} \right) \ldots (-3) \cdot (-2) \cdot (-1)\\
		&= 1 \cdot 2 \cdot 3 \cdot \ldots \cdot  \left( \frac{p-1}{2} \right) \left( \frac{p-1}{2} +1 \right) \ldots (p-3) \cdot (p-2) \cdot (p-1)\\
		&= (p-1)! = -1 \text{ in } \F_{p}
	.\end{align*}
\end{proof}

\begin{corollar}
	Sei $p \in \N$ kongruent $1 \mod 4$. Dann ist $p$ keine Primzahl in $\Z[i]$.
\end{corollar}

\begin{proof}
	Wir betrachten $\sfrac{\Z[i]}{(p)} \cong \sfrac{\F_{p}[x]}{(x^2+1)}, a+ib + (p) \mapsto a+b X \mod p$.
	Aber $x^2 +1$ ist über $\F_{p}$ nicht irreduzibel, da $x^2 +1$ zwei Nullstellen in $\F_{p}$ hat (siehe Proposition).
	Also ist $\sfrac{\Z[i]}{(p)}$ kein Integritätsbereich und $p$ kein Primelement.
\end{proof}

\begin{proof}[Alternativer Beweis]
	Angenommen $a \in \Z$ erfüllen $a^2 \equiv -1 \mod p$.
	Insbesondere gilt damit $p \mid (a^2 +1) = (a^2 - i^2) = (a+i)(a-i)$.
	Da aber $a \in \Z$ ist, gilt $p \nmid (a+i)$ und $p \nmid (a-i)$.
\end{proof}

\begin{proof}[Beweis der Beschreibung der Primzahlen in ${\Z[i]}$]
	$N(1+i) = 2$ und Lemma 2 zeigt, dass $1+i$ irreduzibel , also prim, ist.
	Angenommen $p \in \N$ ist kongruent $3 \mod 4$. Dann gilt 
	\[
		p \not\equiv a^2 + b^2 \in \{0,1,2 \mod 4\} 
	\]
	für $a,b \in \Z$ gilt $a^2 \equiv 0,1 \mod 4$.
	Also ist $p$ (und auch $-p$ ) keine Norm $N(a+ib) = a^2 + b^2 > 0$ eines Elements von $Z[i]$.
	Lemma 3 zeigt also, dass $p$ eine Primzahl in $\Z[i]$ ist.

	Sei nun $p \in \N$ kongruent $1 \mod 4$ und prim in $\Z$. 
	Dann ist $p$ keine Primzahl in $\Z[i]$ wegen dem Korollar.
	Also kann Lemma  3 nicht angewendet werden und daher gibt es ein $z \in \Z[i]$ mit $\underbrace{N(z)}_{> 0} = p$.
	Anders formuliert haben wir also $a,b \in \Z$ mit $p = a^2 + b^2$ gefunden.
	O.B.d.A. dürfen wir $a,b \in \N$ und $b<a$ annehmen.
	Dann gilt $a+ib, a-ib \in P$, $p = (a+ib)(a-ib)$ und $a \pm ib$ sind nicht assoziiert, da $\pm 1, \pm i$ die einzigen Einheiten sind
	und der Winkel zwischen $a+ib$ und $a-ib$ echt kleiner als $90^{\circ}$ ist.
	%TODO image 11. seite 10

	Wir zeigen noch, dass obige drei Fälle alle Primzahlen in $P \subseteq \Z[i]$ liefern.
	Angenommen $z \in \Z[i]$ ist eine Primzahl.
	Dann ist $n = N(z) = z \overline{z}$ eine natürliche Zahl.
	Sei $p \in \N$ ein Primfaktor von $n$.
	\begin{itemize}
		\item $p = 2 \implies 2 = (1+i)(1-i) \mid n = z \overline{z} \implies (1+i) \mid z \overline{z} \implies 1+i \mid z$ oder $1+i \mid \overline{z}$.
			Folgt $1-i \mid z$. Also $1+i \sim z$ und  $1+i \sim 1-i \sim z$.
		\item  $p \equiv 3 \mod 4$: Und  $p \mid z \overline{z}$ und $p$ ist prim in $\Z[i]$.
			Also $p \mid z$ oder $p \mid \overline{z}$. Und somit $p \sim z$.
		\item  $p \equiv 1 \mod 4$: $(a+ib) \mid p = (a+ib)(a-ib) \mid z \overline{z}$. Folgt
			$a+ib \mid z \implies a+ib \sim z$  oder $a+ib \sim \overline{z} \implies a-ib \mid z \implies a-ib \sim z$.
	\end{itemize} 
\end{proof}

\begin{theorem}
	Im $R_{falsch} = \Z[\sqrt{3}i]$ funktioniert Division mit Rest nicht wie in den obigen Fällen.
	Aber in $R_{richtig} = \Z[\zeta] = \{a+b \zeta : a,b \in \Z\} $ für $\zeta = \frac{1+\sqrt{3} i}{2}$ funktionert dies wieder.
\end{theorem}

\begin{proof}[Beweis Skizze]
%TODO image 11. seite 12

$z = \frac{g}{f} = (a+\frac{1}{2}) + (b+\frac{1}{2}) \sqrt{3} i$, $a,b \in \Z$ hat Abstand $1$ zu allen Elementen von $\Z[\sqrt{3}i]$.
Beweis scheitert für $R_{falsch}$.

Aber in diesem Fall ist $z \in R_{richtig}$ und deswegen hat es Abstand $0$ zu sich selbst. Beweis klappt nun .

\end{proof}





























